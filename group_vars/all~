# A place to put variables that apply to all groups
# Create a file in this directory called "webservers" to set variables
# for the "webservers" group.

# Zabbix section
zabbix_srv_hosts                   : "{{ groups['zabbix_srv'] | map('extract',hostvars,'ansible_host') | list }}"
zabbix_agent_server                : "{{ zabbix_srv_hosts[0] }}"
zabbix_agent_serveractive          : "{{ zabbix_srv_hosts[0] }}"
zabbix_web_hosts                   : "{{ groups['zabbix_web'] | map('extract',hostvars,'ansible_host') | list }}"
zabbix_agent_server_url            : "http://{{ zabbix_web_hosts[0] }}"
zabbix_agent_version               : 4.4
zabbix_agent_become_on_localhost   : False
zabbix_selinux                     : True
selinux_allow_zabbix_can_network   : True
selinux_allow_zabbix_can_http      : True
zabbix_agent_listenport            : 10050
zabbix_agent_firewall_enable       : False
zabbix_api_use                     : True # use zabbix_api_create_hosts and/or zabbix_api_create_hostgroup
zabbix_api_create_hosts            : True
zabbix_api_user                    : Admin
zabbix_api_pass                    : zabbix
zabbix_create_host                 : present
zabbix_update_host                 : yes
zabbix_host_groups                 :
                                     - Linux servers
zabbix_link_templates              :
                                     - Template OS Linux by Zabbix agent

#Elastic beats section
#beats_version: 7.8.0
#oss_version: true
#output_conf                        : 
#  logstash                         :
hosts:
  - 10.26.2.20:5044
  - 10.26.2.19:5044

#    hosts                          : "{{ groups['elk_master_nodes'] | map('extract',hostvars,'ansible_host') | list | to_nice_yaml }}"
                                     



#beat_conf                          :
#  filebeat.config.modules.path     : ${path.config}/modules.d/*.yml
#  metricbeat.config.modules.path   : ${path.config}/modules.d/*.yml
#    filebeat.modules               :
#                                     - module: system
#                                     - module: nginx
#    metricbeat.modules             :
                                     - module: system
#setup.dashboards.enabled           : true
#elk_nginx_hosts                    : "{{ groups['elk_nginx'] | map('extract',hostvars,'ansible_host') | list }}"
#setup.kibana.host                  : "http://{{ elk_nginx_hosts[0] }}"

